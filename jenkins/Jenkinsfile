pipeline {
  agent any
  parameters {

  gitParameter(branch: '',
                         branchFilter: 'origin/(.*)',
                         defaultValue: 'develop',
                         description: 'Escolha uma branch',
                         name: 'BRANCH',
                         quickFilterEnabled: false,
                         selectedValue: 'NONE',
                         sortMode: 'NONE',
                         tagFilter: '*',
                         type: 'PT_BRANCH')

    choice(name: 'build_type',
            choices: 'bug fix\nfeature\nrelease',
            description: 'escolha o tipo de build')
  }

  stages {
    stage('Example') {
      steps {
        echo 'Hello'
        echo "${params.build_type}"
      }
    }

    stage('Checkout') {
                steps {
                    checkout([$class: 'GitSCM',
                              branches: [[name: "${params.TAG}"]],
                              doGenerateSubmoduleConfigurations: false,
                              extensions: [],
                              gitTool: 'Default',
                              submoduleCfg: [],
                              userRemoteConfigs: [[url: 'https://github.com/nieri/simple-java-maven-app.git']]
                            ])
                }
            }

  }
}